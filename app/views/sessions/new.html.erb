<% provide(:title,"log in") %>



    <!-- Google Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Passion+One' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Oxygen' rel='stylesheet' type='text/css'>
  </div>

<div class="col-md-offset-1 col-md-6">
<!--   <img src="timee-logo.jpg" class="img img-responsive" style="width: 100px"> -->
</div>

<script>

  function statusChangeCallback(response) {
    
    if (response.status === 'connected') {

    //testAPI();

    } else {

    Register();

    }
  }

  function checkLoginState() {
    FB.getLoginStatus(function(response) {
      statusChangeCallback(response);
      testAPI();
    });
  }

  window.fbAsyncInit = function() {
    FB.init({
      appId      : '263462597523022', // test ID: 955071771311591
      cookie     : true,  // enable cookies to allow the server to access 
                          // the session
      xfbml      : true,  // parse social plugins on this page
      version    : 'v2.8' // use graph api version 2.8
    });

    FB.getLoginStatus(function(response) {
      statusChangeCallback(response);
    });

  };

  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "https://connect.facebook.net/en_US/sdk.js";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));


  function testAPI() {
    
    FB.api('/me?fields=id,name,email,picture,age_range,gender', function(response) {

      window.location.replace("/fbpass?email=" + response.email + "&pass=" + response.id);

    });
  }

  function Register() {
    
    FB.api('/me?fields=id,name,email,picture,age_range,gender', function(response) {

      window.location.replace("/fb?name=" + response.name + "&email=" + response.email + "&password=" + response.id + "&gender=" + response.gender + "&age=" + response.age_range.min);
    });
  }
  
</script>


<!-- End of Facebook Login -->


<style>
 .smolFont{
  float:right;
 }
@media only screen and (max-width: 600px) {
.pleft {
  padding-left: 10px !important;
  }
.mmobile {
  margin-top: 30px;
}
 .nopadding {
  padding: 0;
  margin-top: 0 !important;
 }
 .main-center {
  padding: 10px 10px !important;
 }
 .smolFont{

  font-size: 13px;
 }
} 
@media only screen and (max-width: 380px) {
  .smolFont{
  font-size: 13px;
  margin-top: 5px;
 }
  }
.bg {
  background:url('/bg.jpg');
  font-family: 'Oxygen', sans-serif;
}
  
.main{
  margin:50px 15px;
}
hr{
  width: 10%;
  color: #fff;
}
.form-group{
  margin-bottom: 15px;
}
label{
  margin-bottom: 15px;
}
input,
input::-webkit-input-placeholder {
    font-size: 11px;
    padding-top: 3px;
}
.main-login{
  background-color: #fff;
    /* shadows and rounded borders */
    -moz-border-radius: 2px;
    -webkit-border-radius: 2px;
    border-radius: 2px;
    -moz-box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);
    -webkit-box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);
    box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);
}
.form-control {
    height: auto!important;
/*padding: 8px 12px !important;*/
}
.input-group {
    -webkit-box-shadow: 0px 2px 5px 0px rgba(0,0,0,0.21)!important;
    -moz-box-shadow: 0px 2px 5px 0px rgba(0,0,0,0.21)!important;
    box-shadow: 0px 2px 5px 0px rgba(0,0,0,0.21)!important;
}
.main-center{
  margin-top: 30px;
/*  margin: 0 auto;
  max-width: 400px;*/
    padding: 10px 40px;
  background:#f7f8f9;
      color: #000000;
    text-shadow: none;
  -webkit-box-shadow: 0px 3px 5px 0px rgba(0,0,0,0.31);
-moz-box-shadow: 0px 3px 5px 0px rgba(0,0,0,0.31);
box-shadow: 0px 3px 5px 0px rgba(0,0,0,0.31);
}
span.input-group-addon i {
    color: #f7f8f9;
    font-size: 17px;
}
.login-button{
  margin-top: 5px;
}
.login-register{
  font-size: 11px;
  text-align: center;
.nomargin {
  margin: 0 !important;
  padding: 0 !important;
  }
}
.switch {
  position: relative;
  display: inline-block;
  width: 60px;
  height: 34px;
}

.switch input {display:none;}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  -webkit-transition: .4s;
  transition: .4s;
}

.slider:before {
  position: absolute;
  content: "";
  height: 26px;
  width: 26px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  -webkit-transition: .4s;
  transition: .4s;
}

input:checked + .slider {
  background-color: #2196F3;
}

input:focus + .slider {
  box-shadow: 0 0 1px #2196F3;
}

input:checked + .slider:before {
  -webkit-transform: translateX(26px);
  -ms-transform: translateX(26px);
  transform: translateX(26px);
}

/* Rounded sliders */
.slider.round {
  border-radius: 34px;
}

.slider.round:before {
  border-radius: 50%;
}
</style>


<body style="background-image: url('../../bg.jpg');">

<div class="col-xs-12 hidden-sm hidden-md hidden-lg" style="margin-bottom: 20px; margin-top: 50px;">
<span class="text-center center-block" style="font-size: 1.8em; font-weight:bold;"><a href="/"><img src="../../logo01.png" style="height:35px; margin-top: -10px;"> | 新規会員登録</span></a>
</div>

<div class="container mobile_margin" style="margin-top: 100px; border: 1px solid #eee; padding: 0; box-shadow: 5px 10px #ccc;">

<div class="col-md-5 hidden-xs" style="background-color: #3dd9ff; background-image: url('../../profile_back.jpg'); background-size: cover; height: 550px;">
          <img src="../../logo02.png" style="width: 70%; margin-top: 150px;" class="center-block">
          <p style="color: white; background-color: #283b54; width: 50%; margin: 180px auto 0px auto; padding: 5px; border-radius: 5px;" class="text-center"><img src="../../back.png" style="width: 20px; margin-right: 15px;">ログイン画面に戻る</p>
        </div>

        <div class="col-md-7 mobile_h" style="background-color: #fff; padding: 0; height: 550px;">

          <div class="col-md-12" style="margin-top: 50px; margin-bottom: 50px;">

            <div class="col-md-offset-1 col-md-12 hidden-xs"><p style="font-size: 1.8em; color: #283b54; font-weight: bold;">会員様ログイン</p>
            </div>
          </div>

          <div class="col-md-offset-1 col-md-11">

          <div class="col-md-12">
          <div class="form-group">
            <style>
              
              input[placeholder] {
                 font-size: 12px;
                 text-indent: 50px;
              }
            </style>

                  <input type="text" class="form-control" style="padding: 15px; background-color: #eee; background-image: url('../../mail.png'); background-repeat: no-repeat; background-size: 20px; background-position: 5% 50%; border-radius: 10px;" name="user[name]" placeholder="メールアドレスを入力してください" id="user_name" required>
            </div> 
              <div class="form-group">
                  <input type="password" class="form-control" style="padding: 15px; background-color: #eee; background-image: url('../../lock.png'); background-repeat: no-repeat; background-size: 20px; background-position:5% 50%; border-radius: 10px;" placeholder="メールアドレスを入力してください" name="user[password]" id="user_password" required>
                </div>
            </div>

            <div class="col-md-12">
            <label class="switch" style="margin-top: 30px; margin-bottom: 30px;">
              <input type="checkbox">
              <span class="slider round"></span>
            </label><label style="margin-top: 15px; margin-left: 10px;">ログイン状態を保存する</label>
            <label style="text-align: right; margin-top: 15px; margin-left: 60px;">パスワードをお忘れですか？</label>
          </div>

            <div>
         
            </div>

            <div class="col-md-12 mobile_t">
            <div class="col-md-6" style="padding-right: 0;">
            <button type="submit" name="new" class="btn btn-info btn-block" style="background-color: #3dd9ff; padding: 12px; font-weight: bold; box-shadow: 0 4px 2px -2px rgba(0,0,0,.50); border-radius: 10px 0 0 10px;"><i class="fa fa-sign-in"></i> ログイン</button>
          </div>
<!--             <button type="button" class="btn btn-default btn-block" style="padding: 12px; font-weight: bold; background-color: #3b5998; border: 1px solid #133783; color: #fff; box-shadow: 0px 3px 10px rgba(0,0,0,.50); margin-top: 15px; border-radius: 10px;"><i class="fa fa-facebook"></i> Facebookで登録（利用規約に同意する）
            </button> -->
            <div class="col-md-6" style="padding-left: 0;">
            <a href="https://www.instagram.com/oauth/authorize/?client_id=40121d95c810426f8138deb395cff7fc&redirect_uri=http://timee-online.com/insta&response_type=code" style="text-decoration: none;">
            <button type="button" class="btn btn-default btn-block" style="padding: 12px; font-weight: bold; background: #cd486b; border: 1px solid #d6249f; color: #fff; box-shadow: 0 4px 2px -2px rgba(0,0,0,.50); border-radius: 0 10px 10px 0;"><i class="fa fa-instagram"></i> Instagramでログイン
            </button>
            </a>
           </div>


            <div class="col-md-12">

            <div class="text-center" style="margin-top: 20px; margin-bottom: 20px; font-weight: bold; background-color: #4267b2; border: 1px solid #4267b2; color: #fff; box-shadow: 0px 3px 10px rgba(0,0,0,.50); margin-top: 15px; border-radius: 10px;">
            <div class="fb-login-button" data-max-rows="1" data-size="large" data-show-faces="false" data-auto-logout-link="false" data-button-type="continue_with" data-use-continue-as="true" id="fb1" scope="public_profile,email" onlogin="checkLoginState();"></div>
            </div>
          </div>

          <div class="col-xs-12 text-center hidden-sm hidden-md hidden-lg">
          <label style="margin-top: 40px; margin-left: 15px; margin-bottom: 20px;"><a href="#" style="color: #283b54; text-decoration: underline; font-size: 1em;" data-toggle="modal" data-target="#agreement" style="color: #283b54;">利用規約を必ずご確認ください</a></label>
          </div>

          </div>
            
          </div>
        </div>
      </div>


</div>








       <!--  <div class="main-login main-center col-md-offset-5 col-md-7 nopadding">
          <img src="timee-logo.jpg" class="img img-responsive" style="width: 100px; float: left;margin-top: 35px; margin-bottom: 10px; ">
        <h5 class="text-right"><a href = "/signup">ここに登録</a></h5>
        <%= form_for(:session, url: login_path) do |f| %>
            
            <div class="form-group mmobile">
              <label for="email" class="hidden-xs">メールアドレス</label>
                <div class="input-group">
                  <span class="input-group-addon hidden-xs"><i class="fa fa-envelope fa" style="color:#948c8c" aria-hidden="true"></i></span>
                  <%= f.email_field :email, class: 'form-control', :placeholder => 'メールアドレス' %>
                </div>
            </div>

            <div class="form-group">
              <label for="password" class="hidden-xs">パスワード</label>
                <div class="input-group">
                  <span class="input-group-addon hidden-xs"><i class="fa fa-lock fa-lg" style="color:#948c8c" aria-hidden="true"></i></span>
                   <%= f.password_field :password, class: 'form-control', :placeholder => 'パスワード' %>
                </div>
            </div>

             <div class="form-group"> 
                <%= f.label :remember_me do %>
                <%= f.check_box :remember_me %>
                <span class="smolFont">ログイン状態を保存する</span>
                <% end %>
            </div>
           <div class="form-group">    
            <%= link_to "パスワードを忘れた方", new_password_reset_path, { :class => "smolFont" }  %>
            </div>
            <div class="form-group">   
            <%= f.submit "ログイン", class: "btn btn-primary btn-md", :value => "ログイン" %>
            </div>
            
          <div class="text-center" style="margin-top: 20px; margin-bottom: 20px;">
          <div class="fb-login-button" data-max-rows="1" data-size="large" data-show-faces="false" data-auto-logout-link="false" data-button-type="continue_with" data-use-continue-as="true" id="fb1" scope="public_profile,email" onlogin="checkLoginState();"></div>
          </div>

          
          </form>
        </div> -->

      </div>
      </div>
    </div>

</div>

<% end %>